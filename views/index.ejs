<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cemilan Ceria - Cita Rasa Yang Tak Terlupakan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <style>
        body {
            background-color: #fffbeb; amber-50
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .carousel-slide {
            /* Perubahan: Mengganti transition menjadi properti opacity saja */
            transition: opacity 0.7s ease-in-out;
        }
        /* Tambahkan warna kustom 'primary' jika Anda ingin menggunakan `text-primary` di navbar/footer */
        /* Anda bisa menambahkan konfigurasi Tailwind di sini, atau langsung menggantinya di kode menjadi text-amber-500/600 */
    </style>
</head>
<body class="text-gray-800">

    <%- include('partials/navbar') %>

    <div class="max-w-7xl mx-auto flex flex-col min-h-screen">

        <main class="flex-grow space-y-12 pb-12 w-full px-4">
            
            <section class="mt-6">
                <div class="relative h-64 md:h-96 w-full overflow-hidden rounded-2xl shadow-xl group">
                    <div id="carousel-container">
                        
                        <div class="carousel-slide absolute inset-0 w-full h-full opacity-100">
                            <img src="https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcQzSt_aUbiiPW9GV0qWXIYOUBZRe9FGz_PFrXxuipUcXGyjK0v0VMRuaGGMx4WCbn32_66ZVKLKJ1fQ37vUrAA4Fp8iEG46hK3lgcP6gjspiT0UdGM"
                                class="w-full h-full object-cover" 
                                alt="Promo Puding Varian Baru" />
                            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center p-8">
                                <h2 class="text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-md">
                                    Puding Coklat
                                </h2>
                                <p class="text-white text-lg md:text-xl font-medium max-w-2xl drop-shadow-sm">
                                Manis & segar untuk cerahkan harimu!

                                </p>
                                <button class="mt-6 px-6 py-2 bg-white text-amber-600 font-bold rounded-full hover:bg-gray-100 transition shadow-lg">
                                    Lihat Detail
                                </button>
                            </div>
                        </div>

                        <div class="carousel-slide absolute inset-0 w-full h-full opacity-0">
                            <img src="https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcRNq42XzoN6hXZiTotxBviTrHE8RtitU1waPcLUPQkHjiazMO5VdzzEa77wWVKBXVasfidOqZd4Q9JRzP4mPgUWV03zr3XdThA2K_XemEKiFoj8r6U" 
                                class="w-full h-full object-cover" 
                                alt="Cireng Ayam Suir Pedas" />
                            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center p-8">
                                <h2 class="text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-md">
                                    Cireng Ayam Suir Pedas
                                </h2>
                                <p class="text-white text-lg md:text-xl font-medium max-w-2xl drop-shadow-sm">
                                    Pedasnya nampol, gurihnya bikin nagih!
                                </p>
                                <button class="mt-6 px-6 py-2 bg-white text-orange-600 font-bold rounded-full hover:bg-gray-100 transition shadow-lg">
                                    Lihat Detail
                                </button>
                            </div>
                        </div>

                        <div class="carousel-slide absolute inset-0 w-full h-full opacity-0">
                            <img src="https://i.pinimg.com/1200x/09/ed/d1/09edd1af0af9acc6620736297148101e.jpg"
                                class="w-full h-full object-cover" 
                                alt="Puding Strawberry Segar" />
                            <div class="absolute inset-0 bg-black/30 flex flex-col items-center justify-center text-center p-8">
                                <h2 class="text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-md">
                                    Puding Strawberry Segar!
                                </h2>
                                <p class="text-white text-lg md:text-xl font-medium max-w-2xl drop-shadow-sm">
                                    Manis & segar untuk cerahkan harimu!
                                </p>
                                <button class="mt-6 px-6 py-2 bg-white text-yellow-600 font-bold rounded-full hover:bg-gray-100 transition shadow-lg">
                                    Lihat Detail
                                </button>
                            </div>
                        </div>

                    </div>

                    <button id="prevBtn"
                        class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 p-3 rounded-full text-white backdrop-blur-sm transition-all opacity-0 group-hover:opacity-100 z-10">
                        <i class="fa-solid fa-chevron-left fa-lg"></i>
                    </button>

                    <button id="nextBtn"
                        class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 p-3 rounded-full text-white backdrop-blur-sm transition-all opacity-0 group-hover:opacity-100 z-10">
                        <i class="fa-solid fa-chevron-right fa-lg"></i>
                    </button>

                    <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10" id="indicators">
                        <button class="w-6 h-3 rounded-full bg-white transition-all" data-index="0" aria-label="Slide 1"></button>
                        <button class="w-3 h-3 rounded-full bg-white/50 transition-all" data-index="1" aria-label="Slide 2"></button>
                        <button class="w-3 h-3 rounded-full bg-white/50 transition-all" data-index="2" aria-label="Slide 3"></button>
                    </div>
                </div>
            </section>

            <section id="produk" class="py-4">
                <div class="text-center mb-12">
                    <span class="text-amber-600 font-semibold tracking-wider uppercase text-sm">Menu Favorit</span>
                    <h2 class="text-4xl font-bold text-gray-800 mt-2">Produk Unggulan</h2>
                    <div class="w-24 h-1 bg-amber-500 mx-auto mt-4 rounded-full"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <div class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-gray-100">
                        <div class="relative overflow-hidden h-56">
                            <img src="https://i.pinimg.com/1200x/2a/8b/4c/2a8b4c995f0cce056d5240cbb6d94744.jpg" alt="Cireng Ayam Suir Pedas" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500" />
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-lg flex items-center shadow-sm">
                                <i class="fa-solid fa-star text-yellow-400 mr-1 text-sm"></i>
                                <span class="text-sm font-bold text-gray-700">4.8</span>
                            </div>
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Cireng Ayam Suir</h3>
                            <p class="text-gray-600 text-sm mb-4 line-clamp-3 flex-grow">
                                Cireng Ayam Suwir Pedas: Pedasnya Menggigit, Gurihnya Menggoda! Tekstur kenyal dengan isian ayam melimpah.
                            </p>
                            <div class="mt-auto flex justify-between items-center pt-4 border-t border-gray-100">
                                <div class="flex flex-col">
                                    <span class="text-xs text-gray-500">Harga</span>
                                    <span class="text-xl font-bold text-amber-600">Rp 3.000</span>
                                </div>
                                <button class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-xl transition-colors shadow-md flex items-center gap-2" onclick="addToCart({id: 1, product: 'Cireng Ayam Suir', price: 3000, image: 'https://i.pinimg.com/1200x/2a/8b/4c/2a8b4c995f0cce056d5240cbb6d94744.jpg', qty: 1})">
                                    <i class="fa-solid fa-bag-shopping"></i>
                                    <span class="font-medium text-sm">Beli</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-gray-100">
                        <div class="relative overflow-hidden h-56">
                            <img src="https://i.pinimg.com/736x/cf/95/2c/cf952c0bb7fee5b59c8bb0a94ac8b58b.jpg" alt="Pudding Coklat" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500" />
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-lg flex items-center shadow-sm">
                                <i class="fa-solid fa-star text-yellow-400 mr-1 text-sm"></i>
                                <span class="text-sm font-bold text-gray-700">5.0</span>
                            </div>
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Pudding Coklat</h3>
                            <p class="text-gray-600 text-sm mb-4 line-clamp-3 flex-grow">
                                Pudding lembut dengan rasa coklat premium yang nikmat. Disajikan dingin lebih nikmat.
                            </p>
                            <div class="mt-auto flex justify-between items-center pt-4 border-t border-gray-100">
                                <div class="flex flex-col">
                                    <span class="text-xs text-gray-500">Harga</span>
                                    <span class="text-xl font-bold text-amber-600">Rp 7.000</span>
                                </div>
                                <button class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-xl transition-colors shadow-md flex items-center gap-2" onclick="addToCart({id: 2, product: 'Pudding Coklat', price: 7000, image: 'https://i.pinimg.com/736x/cf/95/2c/cf952c0bb7fee5b59c8bb0a94ac8b58b.jpg', qty: 1})">
                                    <i class="fa-solid fa-bag-shopping"></i>
                                    <span class="font-medium text-sm">Beli</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-gray-100">
                        <div class="relative overflow-hidden h-56">
                            <img src="https://i.pinimg.com/1200x/09/ed/d1/09edd1af0af9acc6620736297148101e.jpg" alt="Puding Strawberry" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500" />
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-lg flex items-center shadow-sm">
                                <i class="fa-solid fa-star text-yellow-400 mr-1 text-sm"></i>
                                <span class="text-sm font-bold text-gray-700">4.7</span>
                            </div>
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Puding Strawberry</h3>
                            <p class="text-gray-600 text-sm mb-4 line-clamp-3 flex-grow">
                                Pudding segar dengan rasa buah strawberry asli. Manis dan sedikit asam, cocok untuk cuaca panas.
                            </p>
                            <div class="mt-auto flex justify-between items-center pt-4 border-t border-gray-100">
                                <div class="flex flex-col">
                                    <span class="text-xs text-gray-500">Harga</span>
                                    <span class="text-xl font-bold text-amber-600">Rp 15.000</span>
                                </div>
                                <button class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-xl transition-colors shadow-md flex items-center gap-2" onclick="addToCart({id: 3, product: 'Puding Strawberry', price: 15000, image: 'https://i.pinimg.com/1200x/09/ed/d1/09edd1af0af9acc6620736297148101e.jpg', qty: 1})">
                                    <i class="fa-solid fa-bag-shopping"></i>
                                    <span class="font-medium text-sm">Beli</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </section>
            
            <hr class="border-amber-100"/>

            <section id="lokasi" class="py-4">
                <div class="text-center mb-12">
                    <span class="text-amber-600 font-semibold tracking-wider uppercase text-sm">Lokasi Kami</span>
                    <h2 class="text-4xl font-bold text-gray-800 mt-2">Kunjungi Toko Kami</h2>
                    <div class="w-24 h-1 bg-amber-500 mx-auto mt-4 rounded-full"></div>
                </div>

                <div class="flex flex-col lg:flex-row gap-8 lg:gap-12 bg-amber-50 rounded-3xl overflow-hidden shadow-xl border border-amber-100">
                    <div class="lg:w-1/3 p-8 lg:p-12 flex flex-col justify-center space-y-8">
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Informasi Kontak</h3>
                        
                        <div class="space-y-6">
                            <div class="flex items-start space-x-4">
                                <div class="bg-amber-100 p-3 rounded-full text-amber-600">
                                    <i class="fa-solid fa-location-dot fa-lg"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-800">Alamat</h4>
                                    <p class="text-gray-600 mt-1">
                                        Jl. Cemilan Raya No. 123<br />
                                        Jakarta Selatan, DKI Jakarta 12345
                                    </p>
                                </div>
                            </div>

                            <div class="flex items-start space-x-4">
                                <div class="bg-amber-100 p-3 rounded-full text-amber-600">
                                    <i class="fa-solid fa-phone fa-lg"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-800">Telepon / WA</h4>
                                    <p href class="text-gray-600 mt-1">+62 813-1696-1559</p>
                                </div>
                            </div>

                            <div class="flex items-start space-x-4">
                                <div class="bg-amber-100 p-3 rounded-full text-amber-600">
                                    <i class="fa-solid fa-clock fa-lg"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-gray-800">Jam Operasional</h4>
                                    <p class="text-gray-600 mt-1">Senin - Sabtu: 09.00 - 21.00</p>
                                    <p class="text-gray-600">Sabtu-Minggu: Tutup</p>
                                </div>
                            </div>
                        </div>

                        <a href="https://maps.app.goo.gl/wwYPgEtSHhRJo3657" target="_blank" class="bg-amber-500 text-white text-center py-3 rounded-xl font-semibold hover:bg-amber-600 transition shadow-lg flex items-center justify-center gap-2">
                            <i class="fa-solid fa-paper-plane"></i>
                            Buka di Google Maps
                        </a>
                    </div>

                    <div class="lg:w-2/3 h-80 lg:h-auto min-h-[400px] relative bg-gray-200">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15858.971277158376!2d107.45209705!3d-6.3951566!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e693b482312b6b5%3A0xc3f15c542a498007!2sJln%20Baladewa%2C%20Cikampek%20Barat%2C%20Kab.%20Karawang%2C%20Jawa%20Barat!5e0!3m2!1sen!2sid!4v1701620000000!5m2!1sen!2sid" 
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            class="absolute inset-0 w-full h-full"
                            title="Lokasi Toko Kami di Jakarta Selatan"
                        ></iframe>
                    </div>
                </div>
            </section>
            <hr class="border-amber-100"/>

        </main>

        <%- include('partials/footer') %>

    </div>

    <script>
        // Logika Carousel
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.carousel-slide');
            const indicators = document.querySelectorAll('#indicators button');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            let currentSlide = 0;
            let slideInterval;
            const slideDuration = 5000; // 5 detik

            function showSlide(index) {
                const newIndex = (index + slides.length) % slides.length;
                
                slides.forEach((slide, i) => {
                    if (i === newIndex) {
                        slide.classList.remove('opacity-0');
                        slide.classList.add('opacity-100');
                    } else {
                        slide.classList.remove('opacity-100');
                        slide.classList.add('opacity-0');
                    }
                });

                indicators.forEach((ind, i) => {
                    if (i === newIndex) {
                        ind.classList.remove('bg-white/50', 'w-3');
                        ind.classList.add('bg-white', 'w-6');
                    } else {
                        ind.classList.remove('bg-white', 'w-6');
                        ind.classList.add('bg-white/50', 'w-3');
                    }
                });
                currentSlide = newIndex;
            }

            function next() {
                showSlide(currentSlide + 1);
            }

            function prev() {
                showSlide(currentSlide - 1);
            }

            function startAutoSlide() {
                slideInterval = setInterval(next, slideDuration);
            }

            function resetAutoSlide() {
                clearInterval(slideInterval);
                startAutoSlide();
            }

            // Event Listeners Carousel
            nextBtn.addEventListener('click', () => {
                next();
                resetAutoSlide();
            });

            prevBtn.addEventListener('click', () => {
                prev();
                resetAutoSlide();
            });

            indicators.forEach((ind, i) => {
                ind.addEventListener('click', () => {
                    showSlide(i);
                    resetAutoSlide();
                });
            });

            // Inisialisasi Carousel
            showSlide(0); // Tampilkan slide pertama
            startAutoSlide(); // Mulai auto-slide
        });

       // Logika Keranjang (Simulasi Penambahan Item)
        function addToCart(product) {
            let cart = JSON.parse(localStorage.getItem('cart') || "[]");
            const existingItemIndex = cart.findIndex(item => item.id === product.id);

            if (existingItemIndex > -1) {
                cart[existingItemIndex].qty = (cart[existingItemIndex].qty || 1) + 1;
            } else {
                cart.push({...product, qty: 1});
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Panggil fungsi update dari navbar
            if (window.updateCart) {
                window.updateCart();
            }

            // Notifikasi berhasil
            Swal.fire({
                toast: true,
                icon: 'success',
                title: `${product.product} ditambahkan.`,
                showConfirmButton: false,
                timer: 1800,
                position: 'bottom-end', // <-- DIUBAH ke pojok bawah kanan
                width: 300,
                padding: '0.75em',
                background: '#f59e0b',
                color: '#fff',
                iconColor: '#fff',
                customClass: {
                    title: 'text-sm font-semibold',
                    container: 'items-center'
                },
            });
        }
        window.addToCart = addToCart;

    </script>
</body>
</html>